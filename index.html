<!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>识字</title>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+SC:wght@400;600;700&family=Ma+Shan+Zheng&display=swap"
    rel="stylesheet">
  <script src="js/js-yaml.min.js"></script>
  <script src="https://unpkg.com/pinyin-pro"></script>
  <script src="https://cdn.jsdelivr.net/npm/hanzi-writer@3.5/dist/hanzi-writer.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/blueimp-md5/2.19.0/js/md5.min.js"></script>
  <script>
    (() => {
      const shouldForceRefresh = sessionStorage.getItem('shizi_force_refresh') === 'true';
      const suffix = shouldForceRefresh ? `?t=${Date.now()}` : '';

      // 1. 注入 config.js (带有时间戳)
      const configScript = document.createElement('script');
      configScript.src = `js/config.js${suffix}`;
      configScript.async = false;
      document.head.appendChild(configScript);

      // 2. 注入 audio-manager.js (带有时间戳)，等待加载完成
      const audioScript = document.createElement('script');
      audioScript.src = `js/audio-manager.js${suffix}`;
      audioScript.async = false;
      audioScript.onload = () => {
        // audio-manager.js 加载完成后，再加载 main.js
        const mainScript = document.createElement('script');
        mainScript.type = 'module';
        mainScript.src = `js/main.js${suffix}`;
        document.head.appendChild(mainScript);
      };
      document.head.appendChild(audioScript);

      // 3. 预加载核心模块
      const modules = [
        'js/state.js', 'js/app.js', 'js/menu.js', 'js/learning.js',
        'js/ui.js', 'js/toast.js', 'js/constants.js', 'js/position.js', 'js/batch-record.js'
      ];
      modules.forEach(path => {
        const link = document.createElement('link');
        link.rel = 'modulepreload';
        link.href = `${path}${suffix}`;
        document.head.appendChild(link);
      });
    })();
  </script>
  <style>
    :root {
      --primary-color: #d97706;
      /* 主色 */
      --primary-hover: #b45309;
      /* 主色悬停 */
      --bg-color: #fef3c7;
      /* 背景色 */
      --card-bg: #fff;
      --text-color: #1c1917;
      /* 文字色 */
      --highlight-color: #dc2626;
      /* 高亮色 */
      --grid-border: #fca5a5;
      /* 格子边框 */
      --grid-line: #fecaca;
      /* 格子线 */
      --tag-bg: #fcd34d;
      /* 标签背景 */
      --tag-text: #78350f;
      /* 标签文字 */
      --nav-bg: #fff;
      --nav-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Noto Serif SC', 'KaiTi', 'STKaiti', serif;
      background-color: #fdfbf7;
      color: var(--text-color);
      padding-top: 120px;
      /* 为固定导航栏和工具栏留出空间 */
      padding-bottom: 20px;
      padding-left: 20px;
      padding-right: 20px;
      min-height: 100vh;
    }

    /* 学习视图样式 */
    .learning-view {
      display: none;
      max-width: 600px;
      margin: 0 auto;
      background: var(--card-bg);
      border-radius: 16px;
      padding: 30px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
      border: 1px solid #f3f4f6;
      flex-direction: column;
      align-items: center;
      position: relative;
    }

    .learning-view.active {
      display: flex;
    }

    .back-btn {
      position: absolute;
      top: 20px;
      left: 20px;
      background: transparent;
      border: 1px solid #e5e7eb;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-family: system-ui, sans-serif;
      color: #6b7280;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      gap: 4px;
      font-size: 1.2rem;
    }

    .back-btn:hover {
      background: #f9fafb;
      color: var(--primary-color);
      border-color: var(--primary-color);
    }

    .char-header {
      text-align: center;
      margin-bottom: 24px;
      margin-top: 10px;
    }

    .big-char {
      font-size: 4rem;
      font-family: 'KaiTi', 'STKaiti', serif;
      color: var(--highlight-color);
      line-height: 1;
      margin-bottom: 8px;
    }

    .pinyin {
      font-size: 1.5rem;
      color: #78716c;
      font-family: 'Noto Serif SC', serif;
    }

    .writer-container {
      margin-bottom: 24px;
      padding: 4px;
      border: 2px solid var(--grid-border);
      border-radius: 4px;
      background: #fff;
      position: relative;
    }

    /* 田字格线 */
    .writer-container::before {
      content: '';
      position: absolute;
      top: 50%;
      left: 4px;
      right: 4px;
      height: 1px;
      border-top: 1px dashed var(--grid-line);
      z-index: 0;
    }

    .writer-container::after {
      content: '';
      position: absolute;
      left: 50%;
      top: 4px;
      bottom: 4px;
      width: 1px;
      border-left: 1px dashed var(--grid-line);
      z-index: 0;
    }

    .writer-target {
      position: relative;
      z-index: 1;
    }

    .mode-tabs {
      display: flex;
      background: #f3f4f6;
      padding: 4px;
      border-radius: 8px;
      margin-bottom: 20px;
      width: 100%;
      max-width: 320px;
    }

    .mode-tab {
      flex: 1;
      text-align: center;
      padding: 12px;
      cursor: pointer;
      border-radius: 6px;
      color: #6b7280;
      font-size: 1.2rem;
      font-weight: 500;
      transition: all 0.2s;
    }

    .mode-tab.active {
      background: #fff;
      color: var(--primary-color);
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.05);
      font-weight: 600;
    }

    .controls {
      display: flex;
      gap: 12px;
      justify-content: center;
      margin-bottom: 20px;
      flex-wrap: wrap;
    }

    .control-btn {
      padding: 8px 20px;
      border-radius: 8px;
      border: 1px solid var(--primary-color);
      background: #fff;
      color: var(--primary-color);
      cursor: pointer;
      font-size: 0.95rem;
      transition: all 0.2s;
    }

    .control-btn:hover {
      background: var(--primary-color);
      color: #fff;
    }

    .control-btn.primary {
      background: var(--primary-color);
      color: #fff;
    }

    .control-btn.primary:hover {
      background: var(--primary-hover);
      border-color: var(--primary-hover);
    }

    .stroke-info {
      color: #9ca3af;
      font-size: 0.9rem;
      margin-top: 10px;
    }

    .char-box {
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
    }

    .char-box:hover {
      transform: scale(1.05);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
      border-color: var(--primary-color);
    }

    /* 文字和按钮的对齐包装器 */
    .text-btn-row {
      display: flex;
      align-items: center;
      gap: 8px;
      flex: 1;
      width: 100%;
    }

    /* 导航栏 */
    .navbar {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: var(--nav-bg);
      box-shadow: none;
      /* 工具栏下方有阴影，此处移除 */
      display: flex;
      align-items: center;
      justify-content: center;
      /* 居中内容 */
      padding: 0 20px;
      z-index: 100;
      border-bottom: 1px solid #f3f4f6;
    }

    .level-selector-wrapper {
      position: relative;
      display: inline-block;
    }

    .level-selector-btn {
      padding: 6px 12px;
      border: 1px solid #e5e7eb;
      background: #fff;
      border-radius: 6px;
      cursor: pointer;
      font-weight: 600;
      color: #374151;
      font-family: system-ui, sans-serif;
      display: flex;
      align-items: center;
      gap: 6px;
      transition: all 0.2s;
    }

    .level-selector-btn:hover {
      background: #f9fafb;
      border-color: #d1d5db;
    }

    .level-selector-btn::after {
      content: '';
      width: 0;
      height: 0;
      border-left: 4px solid transparent;
      border-right: 4px solid transparent;
      border-top: 4px solid #6b7280;
      transition: transform 0.2s;
    }

    .level-selector-btn.active::after {
      transform: rotate(180deg);
    }

    .level-dropdown {
      position: absolute;
      top: 100%;
      left: 0;
      margin-top: 4px;
      background: #fff;
      border: 1px solid #e5e7eb;
      border-radius: 6px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
      display: none;
      flex-direction: column;
      min-width: 100px;
      z-index: 200;
      overflow: hidden;
    }

    .level-dropdown.show {
      display: flex;
    }

    .level-option {
      padding: 8px 12px;
      cursor: pointer;
      font-family: system-ui, sans-serif;
      font-size: 0.95rem;
      color: #374151;
      transition: background 0.1s;
      text-align: left;
      border: none;
      background: none;
      width: 100%;
    }

    .level-option:hover {
      background: #f3f4f6;
      color: var(--primary-color);
    }

    .level-option.active {
      background: #fff7ed;
      color: var(--primary-color);
      font-weight: 600;
    }

    .unit-navigator {
      display: flex;
      align-items: center;
      gap: 12px;
      font-family: system-ui, sans-serif;
      font-weight: 600;
      color: #4b5563;
    }

    .nav-btn {
      background: none;
      border: none;
      font-size: 1.2rem;
      cursor: pointer;
      color: #6b7280;
      padding: 4px 8px;
      border-radius: 4px;
    }

    .nav-btn:hover {
      background: #f3f4f6;
      color: #111827;
    }

    .nav-btn:disabled {
      opacity: 0.3;
      cursor: not-allowed;
    }

    .unit-indicator {
      position: relative;
      cursor: pointer;
      padding: 4px 8px;
      border-radius: 4px;
      border: 1px solid #e5e7eb;
      background: #fff;
      min-width: 80px;
      text-align: center;
      user-select: none;
    }

    .unit-indicator:hover {
      background: #f9fafb;
      border-color: #d1d5db;
    }

    /* 搜索栏 */
    .search-container {
      flex: 1;
      display: flex;
      justify-content: center;
      margin: 0 20px;
    }

    .search-input {
      width: 100%;
      max-width: 200px;
      padding: 6px 12px;
      border: 1px solid #e5e7eb;
      border-radius: 20px;
      outline: none;
      font-family: 'Noto Serif SC', serif;
      font-size: 0.95rem;
      transition: all 0.2s;
      background: #f9fafb url('data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="%239ca3af"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" /></svg>') no-repeat 12px center;
      background-size: 16px;
      padding-left: 36px;
      /* 居中文字：左右内边距平衡 */
      padding-right: 36px;
      text-align: center;
    }

    .search-input:focus {
      border-color: var(--primary-color);
      background-color: #fff;
      box-shadow: 0 0 0 2px rgba(217, 119, 6, 0.1);
      max-width: 300px;
    }

    /* 隐藏的选择框覆盖在指示器上 */
    .unit-select {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      opacity: 0;
      cursor: pointer;
    }

    .container {
      max-width: 800px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 20px;
    }

    .unit-title {
      text-align: center;
      font-size: 1.5rem;
      color: #78350f;
      margin-bottom: 10px;
      font-weight: 700;
    }

    /* 卡片样式 */
    .card {
      background: var(--card-bg);
      border-radius: 16px;
      padding: 16px;
      display: flex;
      flex-direction: column;
      gap: 20px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
      border: 1px solid #f3f4f6;
      align-items: center;
      animation: fadeIn 0.3s ease-in-out;
    }

    @keyframes fadeIn {
      from {
        opacity: 0;
        transform: translateY(10px);
      }

      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    /* 汉字和播放按钮的容器 */
    .char-header-container {
      display: flex;
      justify-content: center;
      width: 100%;
    }

    /* 字和按钮的包装器 */
    .char-with-btn {
      position: relative;
      display: flex;
      align-items: center;
    }

    /* 左侧：田字格汉字框 */
    .char-box {
      flex-shrink: 0;
      width: 100px;
      height: 100px;
      position: relative;
      border: 2px solid var(--grid-border);
      border-radius: 8px;
      background-color: #fff;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    /* 卡片中播放按钮相对于包装器定位在田字格右边 */
    .char-with-btn>.play-btn {
      position: absolute;
      left: 100%;
      margin-left: 8px;
    }

    /* 词语项样式 */
    .word-item {
      display: inline-flex;
      align-items: center;
      width: 48%;
      margin-bottom: 8px;
      gap: 4px;
    }


    /* 格子线 */
    .char-box::before,
    .char-box::after {
      content: '';
      position: absolute;
      background-color: var(--grid-line);
      z-index: 1;
    }

    .char-box::before {
      top: 50%;
      left: 0;
      right: 0;
      height: 1px;
      border-top: 1px dashed var(--grid-line);
      background: none;
    }

    .char-box::after {
      left: 50%;
      top: 0;
      bottom: 0;
      width: 1px;
      border-left: 1px dashed var(--grid-line);
      background: none;
    }

    .char-text {
      font-size: 72px;
      font-family: 'KaiTi', 'STKaiti', 'Noto Serif SC', serif;
      z-index: 2;
      line-height: 1;
      color: #1f2937;
    }

    /* 右侧：内容区 */
    .content-box {
      flex: 1;
      display: flex;
      flex-direction: column;
      gap: 12px;
      width: 100%;
    }

    .row {
      display: flex;
      align-items: flex-start;
      /* 多行内容时顶部对齐 */
      gap: 12px;
    }

    .tag {
      background-color: var(--tag-bg);
      color: var(--tag-text);
      padding: 4px 12px;
      border-radius: 6px;
      font-weight: 700;
      font-size: 1rem;
      white-space: nowrap;
      font-family: 'Noto Serif SC', serif;
      box-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
      flex-shrink: 0;
      margin-top: 2px;
    }

    .text-content {
      font-size: 1.2rem;
      line-height: 1.5;
      color: #44403c;
      font-family: 'Noto Serif SC', serif;
    }

    /* 覆盖之前的词语样式 */
    .words {
      display: flex;
      flex-wrap: wrap;
      align-items: center;
      justify-content: space-between;
    }

    .highlight {
      color: var(--highlight-color);
      font-weight: 600;
    }

    .loading {
      text-align: center;
      padding: 40px;
      color: #9ca3af;
      font-size: 1.2rem;
    }

    .loading-spinner {
      width: 40px;
      height: 40px;
      margin: 0 auto;
      border: 4px solid #f3f4f6;
      border-top-color: var(--primary-color);
      border-radius: 50%;
      animation: spin 0.8s linear infinite;
    }

    @keyframes spin {
      to {
        transform: rotate(360deg);
      }
    }

    .error-msg {
      text-align: center;
      padding: 20px;
      color: #dc2626;
      background: #fef2f2;
      border-radius: 8px;
      border: 1px solid #fecaca;
    }

    /* 播放按钮样式 */
    .play-btn {
      background: none;
      border: none;
      cursor: pointer;
      color: #9ca3af;
      /* 灰色 */
      padding: 4px;
      border-radius: 50%;
      display: inline-flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s;
      flex-shrink: 0;
      margin-left: 8px;
      /* 与内容的间距 */
    }

    .play-btn:hover,
    .play-btn.playing {
      background-color: #f3f4f6;
      color: var(--primary-color);
    }

    .play-btn svg {
      width: 20px;
      height: 20px;
    }

    /* 学习视图标题调整 */
    .char-header-row {
      position: relative;
      display: flex;
      align-items: center;
      justify-content: center;
      margin-bottom: 8px;
    }

    /* 学习页面大字 */
    .big-char {
      text-align: center;
    }

    /* 学习页面播放按钮相对于大字定位在右边 */
    .char-header-row>.play-btn {
      position: absolute;
      left: 50%;
      margin-left: 2rem;
    }

    /* 工具栏样式 */
    .toolbar {
      position: fixed;
      top: 60px;
      /* 导航栏下方 */
      left: 0;
      right: 0;
      height: 50px;
      background: #fff;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: center;
      padding: 0 20px;
      z-index: 90;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.02);
    }

    .toolbar-content {
      display: flex;
      align-items: center;
      gap: 16px;
      width: 100%;
      max-width: 800px;
    }

    /* 将级别选择器和单元导航推向右侧 */
    #levelSelector {
      margin-left: auto;
    }

    /* 复用级别选择器样式给模式选择器 */
    .mode-option {
      padding: 8px 12px;
      cursor: pointer;
      font-family: system-ui, sans-serif;
      font-size: 0.95rem;
      color: #374151;
      transition: background 0.1s;
      text-align: left;
      border: none;
      background: none;
      width: 100%;
    }

    .mode-option:hover {
      background: #f3f4f6;
      color: var(--primary-color);
    }

    .mode-option.active {
      background: #fff7ed;
      color: var(--primary-color);
      font-weight: 600;
    }

    /* 弹窗样式 */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
      display: none;
      align-items: center;
      justify-content: center;
      z-index: 1000;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-box {
      background: #fff;
      border-radius: 12px;
      padding: 24px;
      width: 90%;
      max-width: 320px;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      text-align: center;
    }

    .modal-title {
      font-size: 1.2rem;
      font-weight: 700;
      color: #374151;
      margin-bottom: 16px;
      font-family: 'Noto Serif SC', serif;
    }

    .modal-input {
      width: 100%;
      padding: 10px;
      border: 1px solid #d1d5db;
      border-radius: 6px;
      margin-bottom: 16px;
      font-size: 1rem;
      outline: none;
    }

    .modal-input:focus {
      border-color: var(--primary-color);
      box-shadow: 0 0 0 2px rgba(217, 119, 6, 0.1);
    }

    .modal-actions {
      display: flex;
      gap: 12px;
      justify-content: flex-end;
    }

    .modal-btn {
      padding: 8px 16px;
      border-radius: 6px;
      font-size: 0.95rem;
      cursor: pointer;
      border: none;
      transition: all 0.2s;
    }

    .modal-btn.cancel {
      background: #f3f4f6;
      color: #4b5563;
    }

    .modal-btn.confirm {
      background: var(--primary-color);
      color: #fff;
    }

    .modal-btn:hover {
      opacity: 0.9;
    }

    .error-text {
      color: #dc2626;
      font-size: 0.9rem;
      margin-bottom: 12px;
      display: none;
      text-align: left;
    }

    /* 提示消息样式 */
    .toast-container {
      position: fixed;
      top: 70px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 2000;
      pointer-events: none;
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
      width: auto;
      max-width: 80%;
    }

    .toast {
      background: rgba(0, 0, 0, 0.75);
      color: #fff;
      padding: 10px 20px;
      border-radius: 25px;
      font-size: 0.95rem;
      font-family: system-ui, sans-serif;
      backdrop-filter: blur(4px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
      animation: fadeInOut 3s forwards;
      pointer-events: auto;
      display: flex;
      align-items: center;
      gap: 8px;
    }

    .toast.success {
      background: rgba(22, 163, 74, 0.85);
      /* 绿色 */
    }

    .toast.error {
      background: rgba(220, 38, 38, 0.85);
      /* 红色 */
    }

    .toast.info {
      background: rgba(59, 130, 246, 0.85);
      /* 蓝色 */
    }

    /* 测验提示消息样式 */
    .quiz-toast-container {
      position: absolute;
      top: 220px;
      /* 大致在拼音位置，根据实际情况调整 */
      left: 50%;
      transform: translateX(-50%);
      z-index: 100;
      pointer-events: none;
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
      width: 100%;
    }

    @keyframes fadeInOut {
      0% {
        opacity: 0;
        transform: translateY(-10px);
      }

      10% {
        opacity: 1;
        transform: translateY(0);
      }

      90% {
        opacity: 1;
        transform: translateY(0);
      }

      100% {
        opacity: 0;
        transform: translateY(-10px);
      }
    }

    /* 菜单样式 */
    .menu-btn {
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px;
      color: #6b7280;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }

    .menu-btn:hover {
      background-color: #f3f4f6;
    }

    .menu-dropdown {
      position: absolute;
      top: 50px;
      right: 20px;
      background: white;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
      width: 160px;
      display: none;
      flex-direction: column;
      z-index: 1001;
      overflow: hidden;
    }

    .menu-dropdown.show {
      display: flex;
    }

    .menu-item {
      padding: 12px 16px;
      text-align: left;
      background: none;
      border: none;
      cursor: pointer;
      color: #374151;
      font-size: 0.95rem;
      transition: background 0.1s;
      border-bottom: 1px solid #f3f4f6;
    }

    .menu-item:last-child {
      border-bottom: none;
    }

    .menu-item:hover {
      background-color: #f9fafb;
      color: var(--primary-color);
    }

    /* 进度条 */
    .download-progress {
      display: flex;
      align-items: center;
      gap: 8px;
      margin-right: 16px;
      font-size: 0.85rem;
      color: #6b7280;
    }

    .progress-track {
      width: 100px;
      height: 8px;
      background: #e5e7eb;
      border-radius: 4px;
      overflow: hidden;
    }

    .progress-fill {
      height: 100%;
      background: var(--primary-color);
      width: 0%;
      transition: width 0.3s;
    }

    /* 统计弹窗内容 */
    .stats-row {
      display: flex;
      justify-content: space-between;
      padding: 12px 0;
      border-bottom: 1px solid #f3f4f6;
    }

    .stats-label {
      color: #6b7280;
    }

    .stats-value {
      font-weight: 600;
      color: #111827;
    }

    /* 学习进度样式 */
    .progress-level-item {
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      margin-bottom: 12px;
      overflow: hidden;
    }

    .progress-level-header {
      padding: 16px;
      background: #f9fafb;
      cursor: pointer;
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 600;
    }

    .progress-level-header svg {
      transition: transform 0.2s;
    }

    .progress-level-header.active svg {
      transform: rotate(180deg);
    }

    .progress-level-content {
      display: none;
      /* 最大高度约 5 行 */
      max-height: 220px;
      overflow-y: auto;
      padding: 16px;
      background: #fff;
    }

    .progress-level-content.show {
      display: block;
    }

    .progress-unit-row {
      margin-bottom: 12px;
      line-height: 1.6;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .progress-unit-info {
      flex: 1;
    }

    .progress-nav-btn {
      background: none;
      border: 1px solid #e5e7eb;
      border-radius: 50%;
      width: 28px;
      height: 28px;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      color: #9ca3af;
      margin-left: 12px;
      flex-shrink: 0;
      transition: all 0.2s;
    }

    .progress-nav-btn:hover {
      background-color: #f3f4f6;
      color: var(--primary-color);
      border-color: var(--primary-color);
    }

    .progress-unit-name {
      font-weight: 600;
      color: #374151;
      margin-right: 8px;
    }

    .progress-char-list {
      color: #6b7280;
    }

    .progress-char.learned {
      color: var(--primary-color);
      font-weight: bold;
    }

    /* 批量录音页面样式 */
    .batch-record-view {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: #fdfbf7;
      z-index: 150;
      padding-top: 60px;
    }

    .batch-record-view.active {
      display: flex;
    }

    .batch-record-header {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      height: 60px;
      background: #fff;
      border-bottom: 1px solid #e5e7eb;
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 0 20px;
      z-index: 160;
    }

    .batch-record-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: #374151;
    }

    .batch-record-close-btn {
      background: none;
      border: none;
      font-size: 1.5rem;
      cursor: pointer;
      color: #6b7280;
      padding: 4px 12px;
      border-radius: 6px;
      transition: all 0.2s;
    }

    .batch-record-close-btn:hover {
      background: #f3f4f6;
      color: #111827;
    }

    .batch-record-content {
      display: flex;
      width: 100%;
      height: 100%;
      padding: 20px;
      gap: 20px;
    }

    .batch-record-left {
      flex: 1;
      overflow-y: auto;
      background: #fff;
      border-radius: 12px;
      padding: 20px;
      border: 1px solid #e5e7eb;
    }

    .batch-record-right {
      width: 300px;
      display: flex;
      flex-direction: column;
      gap: 12px;
    }

    .batch-record-section {
      margin-bottom: 24px;
    }

    .batch-record-section-title {
      font-size: 1.1rem;
      font-weight: 600;
      color: #374151;
      margin-bottom: 12px;
      padding-bottom: 8px;
      border-bottom: 2px solid #f3f4f6;
    }

    .batch-record-item {
      display: flex;
      align-items: center;
      justify-content: space-between;
      padding: 12px;
      border: 1px solid #e5e7eb;
      border-radius: 8px;
      margin-bottom: 8px;
      cursor: pointer;
      transition: all 0.2s;
    }

    .batch-record-item:hover {
      border-color: var(--primary-color);
      background: #fff7ed;
    }

    .batch-record-item.active {
      border-color: var(--primary-color);
      background: #fff7ed;
      box-shadow: 0 0 0 2px rgba(217, 119, 6, 0.2);
    }

    .batch-record-item.completed {
      border-color: #22c55e;
      background: #f0fdf4;
    }

    .batch-record-item.completed .item-status {
      color: #22c55e;
    }

    .batch-record-item-text {
      flex: 1;
      font-size: 1.1rem;
      color: #374151;
    }

    .item-type {
      font-size: 0.9rem;
      color: #9ca3af;
      margin-right: 4px;
    }

    .item-status {
      font-size: 0.9rem;
      color: #9ca3af;
    }

    .item-status.completed {
      color: #22c55e;
    }

    .batch-record-btn {
      padding: 12px 20px;
      border-radius: 8px;
      border: 1px solid var(--primary-color);
      background: #fff;
      color: var(--primary-color);
      cursor: pointer;
      font-size: 1rem;
      font-weight: 500;
      transition: all 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }

    .batch-record-btn:hover {
      background: var(--primary-color);
      color: #fff;
    }

    .batch-record-btn.primary {
      background: var(--primary-color);
      color: #fff;
    }

    .batch-record-btn.primary:hover {
      background: var(--primary-hover);
      border-color: var(--primary-hover);
    }

    .batch-record-btn:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .batch-record-btn.recording {
      background: #dc2626;
      border-color: #dc2626;
      color: #fff;
      animation: pulse 1.5s infinite;
    }

    @keyframes pulse {

      0%,
      100% {
        opacity: 1;
      }

      50% {
        opacity: 0.7;
      }
    }

    .batch-record-btn svg {
      width: 20px;
      height: 20px;
    }

    .batch-record-info {
      background: #f3f4f6;
      border-radius: 8px;
      padding: 16px;
      text-align: center;
    }

    .batch-record-info-title {
      font-weight: 600;
      color: #374151;
      margin-bottom: 8px;
    }

    .batch-record-info-text {
      font-size: 1.5rem;
      color: var(--primary-color);
      font-weight: 700;
    }

    .batch-record-info-sub {
      font-size: 0.9rem;
      color: #6b7280;
      margin-top: 4px;
    }

    .batch-record-btns-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
    }

    .keyboard-hint {
      font-size: 0.8rem;
      color: #9ca3af;
      text-align: center;
      margin-top: 4px;
    }
  </style>
</head>

<body>
  <!-- SVG Sprite -->
  <svg style="display: none;">
    <symbol id="icon-play" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
    </symbol>
    <symbol id="icon-mic" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
      <path stroke-linecap="round" stroke-linejoin="round"
        d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
    </symbol>
  </svg>

  <!-- 提示消息容器 -->
  <div id="toastContainer" class="toast-container"></div>

  <!-- 登录提醒 (固定) -->
  <div id="loginReminder" class="toast error"
    style="display:none; position:fixed; top:10px; left:50%; transform:translateX(-50%); z-index:2000; cursor:pointer; box-shadow: 0 4px 12px rgba(0,0,0,0.15); animation: none;">
    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
      <circle cx="12" cy="12" r="10"></circle>
      <line x1="12" y1="8" x2="12" y2="12"></line>
      <line x1="12" y1="16" x2="12.01" y2="16"></line>
    </svg>
    <div style="display: flex; flex-direction: column; align-items: flex-start; line-height: 1.4; margin-left: 4px;">
      <span style="font-weight: 600;">您还未登录！</span>
      <span style="font-weight: 600;">点击这里去登录</span>
    </div>
  </div>

  <header class="navbar" style="justify-content: space-between; padding: 0 16px;">
    <!-- 下载进度 -->
    <div id="downloadProgress" class="download-progress" style="display:none;">
      <div class="progress-track">
        <div class="progress-fill" id="progressFill"></div>
      </div>
      <span id="progressText">0/0</span>
    </div>

    <div class="search-container" style="margin: 0 auto;">
      <input type="text" id="searchInput" class="search-input" placeholder="搜索汉字" maxlength="1">
    </div>



    <!-- 菜单按钮 -->
    <button class="menu-btn" id="menuBtn">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none"
        stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <circle cx="12" cy="12" r="1"></circle>
        <circle cx="12" cy="5" r="1"></circle>
        <circle cx="12" cy="19" r="1"></circle>
      </svg>
    </button>

    <!-- 菜单下拉 -->
    <div class="menu-dropdown" id="menuDropdown">
      <button class="menu-item" id="menuDownload">下载语音数据</button>
      <button class="menu-item" id="menuClearCache">清理语音缓存</button>
      <button class="menu-item" id="menuStats">显示录音进度</button>
      <button class="menu-item" id="menuProgress">学习进度</button>
      <button class="menu-item" id="menuRefresh">刷新页面</button>
      <button class="menu-item" id="menuLogin">登录</button>
    </div>
  </header>

  <div class="toolbar">
    <div class="toolbar-content">
      <!-- 模式选择器 -->
      <div class="level-selector-wrapper" id="modeSelector">
        <button class="level-selector-btn" id="currentModeBtn">学习模式</button>
        <div class="level-dropdown" id="modeDropdown">
          <button class="mode-option active" data-mode="learn">学习模式</button>
          <button class="mode-option" data-mode="teach">教学模式</button>
        </div>
      </div>

      <!-- 级别选择器 -->
      <div class="level-selector-wrapper" id="levelSelector">
        <button class="level-selector-btn" id="currentLevelBtn">L0</button>
        <div class="level-dropdown" id="levelDropdown">
          <!-- 选项将动态生成 -->
        </div>
      </div>

      <!-- 单元导航 -->
      <div class="unit-navigator">
        <button class="nav-btn" id="prevUnit" title="上一单元">&lt;</button>
        <div class="unit-indicator">
          <span id="indicatorText">1/1</span>
          <select id="unitSelect" class="unit-select"></select>
        </div>
        <button class="nav-btn" id="nextUnit" title="下一单元">&gt;</button>
      </div>
    </div>
  </div>

  <div class="container" id="app">
    <div class="loading">加载中...</div>
  </div>

  <!-- 学习视图 -->
  <div class="learning-view" id="learningView">
    <button class="back-btn" id="backBtn">
      <span>&larr;</span> 返回
    </button>

    <div class="char-header">
      <div class="char-header-row">
        <div class="big-char" id="learnChar"></div>
        <button class="play-btn" title="播放" id="learnPlayBtn">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M15.536 8.464a5 5 0 010 7.072m2.828-9.9a9 9 0 010 14.142M5.586 15H4a1 1 0 01-1-1v-4a1 1 0 011-1h1.586l4.707-4.707C10.923 3.663 12 4.109 12 5v14c0 .891-1.077 1.337-1.707.707L5.586 15z" />
          </svg>
        </button>
      </div>
      <div class="pinyin" id="learnPinyin"></div>
      <!-- 测验提示容器 -->
      <div id="quizToastContainer" class="quiz-toast-container"></div>
    </div>

    <div class="mode-tabs">
      <div class="mode-tab active" data-mode="animate">笔顺演示</div>
      <div class="mode-tab" data-mode="quiz">书写练习</div>
    </div>

    <div class="writer-container" id="writerContainer">
      <div class="writer-target" id="writerTarget"></div>
    </div>

    <!-- 动画控制 -->
    <div class="controls" id="animateControls">
      <button class="control-btn primary" id="playBtn">播放动画</button>
      <button class="control-btn" id="strokeBtn">逐笔播放</button>
      <!-- <button class="control-btn" id="resetBtn">重新来</button> -->
    </div>

    <!-- 测验控制 -->
    <div class="controls" id="quizControls" style="display:none;">
      <button class="control-btn primary" id="startQuizBtn">重新来</button>
      <button class="control-btn" id="hintBtn">提示</button>
    </div>

    <div class="stroke-info" id="strokeInfo"></div>
    <div class="error-msg" id="quizResult" style="display:none; margin-top:10px;"></div>
  </div>

  <!-- 密码弹窗 -->
  <div class="modal-overlay" id="passwordModal">
    <div class="modal-box">
      <div class="modal-title">输入密码进入教学模式</div>
      <div class="error-text" id="passwordError">密码错误，请重试</div>
      <input type="password" class="modal-input" id="passwordInput" placeholder="请输入密码">
      <div class="modal-actions">
        <button class="modal-btn cancel" id="cancelPassword">取消</button>
        <button class="modal-btn confirm" id="confirmPassword">确认</button>
      </div>
    </div>
  </div>

  <!-- 登录弹窗 -->
  <div class="modal-overlay" id="loginModal">
    <div class="modal-box">
      <div class="modal-title">用户登录</div>
      <div class="error-text" id="loginError" style="display:none;"></div>
      <input type="text" class="modal-input" id="loginInput" placeholder="请输入用户名">
      <div class="modal-actions">
        <button class="modal-btn cancel" id="cancelLogin">取消</button>
        <button class="modal-btn confirm" id="confirmLogin">登录</button>
      </div>
    </div>
  </div>

  <!-- 登录中弹窗 -->
  <div class="modal-overlay" id="loginLoadingModal">
    <div class="modal-box" style="max-width: 280px;">
      <div class="modal-title" style="margin-bottom: 24px;">正在登录中...</div>
      <div class="loading-spinner"></div>
    </div>
  </div>

  <!-- 上传中弹窗 -->
  <div class="modal-overlay" id="uploadingModal">
    <div class="modal-box" style="max-width: 280px;">
      <div class="modal-title" style="margin-bottom: 24px;" id="uploadingText">正在上传 0/0</div>
      <div class="loading-spinner"></div>
    </div>
  </div>

  <!-- 批次大小输入弹窗 -->
  <div class="modal-overlay" id="batchSizeModal">
    <div class="modal-box">
      <div class="modal-title">设置下载批次大小</div>
      <div style="margin-bottom: 16px; color: #6b7280; font-size: 0.9rem;">
        每批并行下载的文件数量，建议性能较差的手机使用较小的值
      </div>
      <input type="number" class="modal-input" id="batchSizeInput" placeholder="批次大小" min="1" max="100" value="50">
      <div class="modal-actions">
        <button class="modal-btn cancel" id="cancelBatchSize">取消</button>
        <button class="modal-btn confirm" id="confirmBatchSize">确认</button>
      </div>
    </div>
  </div>

  <!-- 统计弹窗 -->
  <div class="modal-overlay" id="statsModal">
    <div class="modal-box" style="max-width: 600px; width: 90%;">
      <div class="modal-title" style="display:flex; justify-content:space-between; align-items:center;">
        <span>语音数据统计</span>
        <button class="menu-btn" id="closeStats" style="padding:4px;"><svg xmlns="http://www.w3.org/2000/svg" width="20"
            height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg></button>
      </div>
      <div id="statsContent">
        <div class="stats-row">
          <span class="stats-label">待学习字总数</span>
          <span class="stats-value" id="statsTotalChars">0</span>
        </div>
        <div class="stats-row">
          <span class="stats-label">已配置语音(字)</span>
          <span class="stats-value" id="statsAudioCount">0</span>
        </div>
        <div class="stats-row"
          style="border-bottom:none; margin-top:10px; padding-bottom:8px; justify-content: flex-start;">
          <span class="stats-label" style="font-weight:600; color:#374151;">已录制语音详情</span>
        </div>
        <div id="statsAudioListContainer" style="max-height: 50vh; overflow-y: auto; text-align: left;">
          <div class="loading">加载中...</div>
        </div>
      </div>
    </div>
  </div>

  <!-- 确认弹窗 -->
  <div class="modal-overlay" id="confirmModal">
    <div class="modal-box">
      <div class="modal-title" id="confirmTitle">确认</div>
      <p id="confirmMessage" style="color: #6b7280; margin-bottom: 20px; font-size: 1rem; white-space: pre-line;">
        确定要执行此操作吗？</p>
      <div class="modal-actions">
        <button class="modal-btn cancel" id="cancelConfirm">取消</button>
        <button class="modal-btn confirm" id="confirmConfirm">确认</button>
      </div>
    </div>
  </div>

  <!-- 学习进度弹窗 -->
  <div class="modal-overlay" id="progressModal">
    <div class="modal-box" style="max-width: 600px; width: 90%;">
      <div class="modal-title" style="display:flex; justify-content:space-between; align-items:center;">
        <span>学习进度</span>
        <button class="menu-btn" id="closeProgress" style="padding:4px;"><svg xmlns="http://www.w3.org/2000/svg"
            width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
            <line x1="18" y1="6" x2="6" y2="18"></line>
            <line x1="6" y1="6" x2="18" y2="18"></line>
          </svg></button>
      </div>
      <div style="margin-bottom: 16px; text-align: center; background: #f3f4f6; padding: 12px; border-radius: 8px;">
        <span style="color: #6b7280;">已学习字数：</span>
        <span style="font-size: 1.5rem; font-weight: 700; color: var(--primary-color);" id="progressTotalCount">0</span>
      </div>
      <div id="progressLevelsContainer" style="max-height: 60vh; overflow-y: auto;">
        <!-- 等级内容将在此注入 -->
      </div>
    </div>
  </div>

  <!-- 批量录音页面 -->
  <div class="batch-record-view" id="batchRecordView">
    <div class="batch-record-header">
      <div class="batch-record-title">批量录音 <span id="batchRecordUnitTitle"></span></div>
      <button class="batch-record-close-btn" id="batchRecordClose">&times;</button>
    </div>
    <div class="batch-record-content">
      <div class="batch-record-left" id="batchRecordLeft">
        <!-- 左侧内容：字、词、句列表 -->
      </div>
      <div class="batch-record-right">
        <div class="batch-record-info">
          <div class="batch-record-info-title">当前内容</div>
          <div class="batch-record-info-text" id="batchRecordCurrentText">-</div>
          <div class="batch-record-info-sub" id="batchRecordCurrentType">-</div>
        </div>
        <div class="batch-record-info">
          <div class="batch-record-info-title">进度</div>
          <div class="batch-record-info-text"><span id="batchRecordProgress">0</span> / <span
              id="batchRecordTotal">0</span></div>
          <div class="batch-record-info-sub">已完成录音</div>
        </div>
        <button class="batch-record-btn primary" id="batchRecordBtn">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
          </svg>
          录音
        </button>
        <div class="keyboard-hint">按空格键录音</div>
        <button class="batch-record-btn" id="batchRecordUploadBtn">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M4 16v1a3 3 0 003 3h10a3 3 0 003-3v-1m-4-8l-4-4m0 0L8 8m4-4v12" />
          </svg>
          上传
        </button>
        <div class="keyboard-hint">按 Enter 键上传</div>
        <div class="batch-record-btns-row">
          <button class="batch-record-btn" id="batchRecordPrevBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
            </svg>
            上一个
          </button>
          <button class="batch-record-btn" id="batchRecordNextBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
            下一个
          </button>
        </div>
        <div class="keyboard-hint">按 ↑ ↓ 键切换</div>
        <div class="batch-record-btns-row">
          <button class="batch-record-btn" id="batchRecordPrevUnitBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
            </svg>
            上一单元
          </button>
          <button class="batch-record-btn" id="batchRecordNextUnitBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
            下一单元
          </button>
        </div>
        <div class="keyboard-hint">按 ← → 键切换单元</div>
      </div>
    </div>
  </div>

  <!-- 批量播放页面 -->
  <div class="batch-record-view" id="batchPlayView">
    <div class="batch-record-header">
      <div class="batch-record-title">批量播放 <span id="batchPlayUnitTitle"></span></div>
      <button class="batch-record-close-btn" id="batchPlayClose">&times;</button>
    </div>
    <div class="batch-record-content">
      <div class="batch-record-left" id="batchPlayLeft">
        <!-- 左侧内容：字、词、句列表 -->
      </div>
      <div class="batch-record-right">
        <div class="batch-record-info">
          <div class="batch-record-info-title">当前内容</div>
          <div class="batch-record-info-text" id="batchPlayCurrentText">-</div>
          <div class="batch-record-info-sub" id="batchPlayCurrentType">-</div>
        </div>
        <div class="batch-record-info">
          <div class="batch-record-info-title">进度</div>
          <div class="batch-record-info-text"><span id="batchPlayProgress">0</span> / <span id="batchPlayTotal">0</span>
          </div>
          <div class="batch-record-info-sub">已完成播放</div>
        </div>
        <button class="batch-record-btn primary" id="batchPlayBtn">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round"
              d="M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z" />
            <path stroke-linecap="round" stroke-linejoin="round" d="M21 12a9 9 0 11-18 0 9 9 0 0118 0z" />
          </svg>
          单个播放
        </button>
        <div class="keyboard-hint">按空格键播放</div>
        <button class="batch-record-btn" id="batchPlayQueueBtn">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
            stroke-width="2">
            <path stroke-linecap="round" stroke-linejoin="round" d="M19 13l-7 7-7-7m14-8l-7 7-7-7" />
          </svg>
          按顺序播放
        </button>
        <div class="keyboard-hint">按 Enter 键全部播放</div>
        <div class="batch-record-btns-row">
          <button class="batch-record-btn" id="batchPlayPrevBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M5 15l7-7 7 7" />
            </svg>
            上一个
          </button>
          <button class="batch-record-btn" id="batchPlayNextBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7" />
            </svg>
            下一个
          </button>
        </div>
        <div class="keyboard-hint">按 ↑ ↓ 键切换</div>
        <div class="batch-record-btns-row">
          <button class="batch-record-btn" id="batchPlayPrevUnitBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M15 19l-7-7 7-7" />
            </svg>
            上一单元
          </button>
          <button class="batch-record-btn" id="batchPlayNextUnitBtn">
            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor"
              stroke-width="2">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7" />
            </svg>
            下一单元
          </button>
        </div>
        <div class="keyboard-hint">按 ← → 键切换单元</div>
      </div>
    </div>
  </div>

</body>

</html>